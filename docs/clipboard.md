<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /docs/mdsource/clipboard.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

# Clipboard

Verify makes use of the clipboard.

This is done via the [TextCopy project](https://github.com/CopyText/TextCopy).

**An alternative to using the clipboard is the [DiffEngineTray tool](https://github.com/VerifyTests/DiffEngine/blob/master/docs/tray.md).**

## Accept received

When a verification fails, a command to accept the received version is added to the clipboard:

On Windows:

> cmd /c move /Y "ReceivedFile" "VerifiedFile"

On Linux or OS:

> mv -f "ReceivedFile" "VerifiedFile"


## Cleanup dangling converter files

When a the number of files outputted from a [converter](converter.mc) reduces, a command to delete the extra files is added to the clipboard:

On Windows:

> cmd /c del "VerifiedFile"

On Linux or OS:

> rm -f "VerifiedFile"


## Custom Command

A custom command can be used by adding environment variables.


### Accept

Add a variable named `Verify.MoveCommand` where `{0}` and `{1}` will be replaced with the received and verified files respectively.


### Cleanup

Add a variable named `Verify.DeleteCommand` where `{0}` will be replaced with the file to be cleaned up.


## Disable Clipboard

The clipboard behavior can be disable using the following:


### Per Test

<!-- snippet: DisableClipboard -->
<a id='snippet-disableclipboard'></a>
```cs
VerifySettings settings = new();
settings.DisableClipboard();
```
<sup><a href='/src/Verify.Tests/Snippets/Snippets.cs#L40-L45' title='Snippet source file'>snippet source</a> | <a href='#snippet-disableclipboard' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### For all tests

<!-- snippet: DisableClipboardGlobal -->
<a id='snippet-disableclipboardglobal'></a>
```cs
VerifierSettings.DisableClipboard();
```
<sup><a href='/src/Verify.Tests/Snippets/Snippets.cs#L75-L79' title='Snippet source file'>snippet source</a> | <a href='#snippet-disableclipboardglobal' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->

If clipboard is disabled for all tests, it can be re-enabled at the test level:

<!-- snippet: EnableClipboard -->
<a id='snippet-enableclipboard'></a>
```cs
VerifySettings settings = new();
settings.EnableClipboard();
```
<sup><a href='/src/Verify.Tests/Snippets/Snippets.cs#L65-L70' title='Snippet source file'>snippet source</a> | <a href='#snippet-enableclipboard' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### For a machine

Set a `Verify_DisableClipboard` environment variable to `true`. This overrides the above settings.
