<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /docs/mdsource/counter.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

# Counter

The `Counter` class provides methods to attempt conversion of a `CharSpan` value into a string representation of supported types.

Supported types include 

 such as `Guid`, `DateTimeOffset`, `DateTime`, and, `DateOnly` and `TimeOnly`.

It handles matching equivalent values and assigning a number to each match. It is used by [Scrubbers](/docs/scrubbers.md).


## TryConvert

Takes a CharSpan and attempts to parse it to one of the supported types, then return the tokenized scrubbed value for that value. 

One example usage is inside a custom scrubber:

<!-- snippet: CounterTryConvert -->
<a id='snippet-CounterTryConvert'></a>
```cs
[Fact]
public Task CounterTryConvert()
{
    var settings = new VerifySettings();
    settings.AddScrubber((builder, counter) =>
    {
        var values = builder.ToString().Split();
        builder.Clear();
        foreach (var value in values)
        {
            if (counter.TryConvert(value, out var result))
            {
                builder.Append(result);
            }
            else
            {
                builder.Append(value);
            }

            builder.Append(' ');
        }
    });

    return Verify("The user with id c9cb98bf-3def-415e-a009-7d58055f5ffc was created on 2022-10-12", settings);
}
```
<sup><a href='/src/Verify.Tests/Serialization/CounterTests.cs#L4-L32' title='Snippet source file'>snippet source</a> | <a href='#snippet-CounterTryConvert' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->

Results in:

<!-- snippet: CounterTests.CounterTryConvert.verified.txt -->
<a id='snippet-CounterTests.CounterTryConvert.verified.txt'></a>
```txt
The user with id Guid_1 was created on DateTime_1
```
<sup><a href='/src/Verify.Tests/Serialization/CounterTests.CounterTryConvert.verified.txt#L1-L1' title='Snippet source file'>snippet source</a> | <a href='#snippet-CounterTests.CounterTryConvert.verified.txt' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->
