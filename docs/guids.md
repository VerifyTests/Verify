<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /docs/mdsource/guids.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

# Guids

By default guids are sanitized during verification. This is done by finding each guid and taking a counter based that that specific guid. That counter is then used replace the guid values. This allows for repeatable tests when guid values are changing.

<!-- snippet: guid -->
<a id='snippet-guid'></a>
```cs
var guid = Guid.NewGuid();
var target = new GuidTarget
{
    Guid = guid,
    GuidNullable = guid,
    GuidString = guid.ToString(),
    OtherGuid = Guid.NewGuid()
};

await Verify(target);
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1982-L1995' title='Snippet source file'>snippet source</a> | <a href='#snippet-guid' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->

Results in the following:

<!-- snippet: SerializationTests.ReUseGuid.verified.txt -->
<a id='snippet-SerializationTests.ReUseGuid.verified.txt'></a>
```txt
{
  Guid: Guid_1,
  GuidNullable: Guid_1,
  GuidString: Guid_1,
  OtherGuid: Guid_2
}
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.ReUseGuid.verified.txt#L1-L6' title='Snippet source file'>snippet source</a> | <a href='#snippet-SerializationTests.ReUseGuid.verified.txt' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


## Disable

To disable this behavior use:


### Instance

<!-- snippet: DontScrubGuids -->
<a id='snippet-DontScrubGuids'></a>
```cs
var settings = new VerifySettings();
settings.DontScrubGuids();
await Verify(target, settings);
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L650-L656' title='Snippet source file'>snippet source</a> | <a href='#snippet-DontScrubGuids' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Fluent

<!-- snippet: DontScrubGuidsFluent -->
<a id='snippet-DontScrubGuidsFluent'></a>
```cs
await Verify(target)
    .DontScrubGuids();
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L664-L669' title='Snippet source file'>snippet source</a> | <a href='#snippet-DontScrubGuidsFluent' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Globally

<!-- snippet: DontScrubGuidsGlobal -->
<a id='snippet-DontScrubGuidsGlobal'></a>
```cs
VerifierSettings.DontScrubGuids();
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1507-L1511' title='Snippet source file'>snippet source</a> | <a href='#snippet-DontScrubGuidsGlobal' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


## Inline Guids

Strings containing inline Guids can also be scrubbed. To enable this behavior, use:


### Instance

<!-- snippet: ScrubInlineGuidsInstance -->
<a id='snippet-ScrubInlineGuidsInstance'></a>
```cs
[Fact]
public Task ScrubInlineGuidsInstance()
{
    var settings = new VerifySettings();
    settings.ScrubInlineGuids();
    return Verify(
        "content 651ad409-fc30-4b12-a47e-616d3f953e4c content",
        settings);
}
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1566-L1578' title='Snippet source file'>snippet source</a> | <a href='#snippet-ScrubInlineGuidsInstance' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Fluent

<!-- snippet: ScrubInlineGuidsFluent -->
<a id='snippet-ScrubInlineGuidsFluent'></a>
```cs
[Fact]
public Task ScrubInlineGuidsFluent() =>
    Verify("content 651ad409-fc30-4b12-a47e-616d3f953e4c content")
        .ScrubInlineGuids();
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1557-L1564' title='Snippet source file'>snippet source</a> | <a href='#snippet-ScrubInlineGuidsFluent' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Globally

<!-- snippet: ScrubInlineGuidsGlobal -->
<a id='snippet-ScrubInlineGuidsGlobal'></a>
```cs
public static class ModuleInitializer
{
    [ModuleInitializer]
    public static void Init() =>
        VerifierSettings.ScrubInlineGuids();
}
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1545-L1554' title='Snippet source file'>snippet source</a> | <a href='#snippet-ScrubInlineGuidsGlobal' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


## Named Guid

Specific Guids can be named. When any of those Guids are found, it will be replaced with the supplied name.


### Instance

<!-- snippet: NamedGuidInstance -->
<a id='snippet-NamedGuidInstance'></a>
```cs
[Fact]
public Task NamedGuidInstance()
{
    var settings = new VerifySettings();
    settings.AddNamedGuid(new("c8eeaf99-d5c4-4341-8543-4597c3fd40d9"), "instanceNamed");
    return Verify(
        new
        {
            value = new Guid("c8eeaf99-d5c4-4341-8543-4597c3fd40d9")
        },
        settings);
}
```
<sup><a href='/src/Verify.Tests/GuidScrubberTests.cs#L64-L79' title='Snippet source file'>snippet source</a> | <a href='#snippet-NamedGuidInstance' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Instance

<!-- snippet: NamedGuidFluent -->
<a id='snippet-NamedGuidFluent'></a>
```cs
[Fact]
public Task NamedGuidFluent() =>
    Verify(
            new
            {
                value = new Guid("c8eeaf99-d5c4-4341-8543-4597c3fd40d9")
            })
        .AddNamedGuid(new("c8eeaf99-d5c4-4341-8543-4597c3fd40d9"), "instanceNamed");
```
<sup><a href='/src/Verify.Tests/GuidScrubberTests.cs#L81-L92' title='Snippet source file'>snippet source</a> | <a href='#snippet-NamedGuidFluent' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Globally

<!-- snippet: NamedGuidGlobal -->
<a id='snippet-NamedGuidGlobal'></a>
```cs
[ModuleInitializer]
public static void Init() =>
    VerifierSettings.AddNamedGuid(new("c8eeaf99-d5c4-4341-8543-4597c3fd40c9"), "guidName");
```
<sup><a href='/src/Verify.Tests/GuidScrubberTests.cs#L3-L9' title='Snippet source file'>snippet source</a> | <a href='#snippet-NamedGuidGlobal' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->
