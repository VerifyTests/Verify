<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /docs/mdsource/guids.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

# Guids

By default guids are sanitized during verification. This is done by finding each guid and taking a counter based that that specific guid. That counter is then used replace the guid values. This allows for repeatable tests when guid values are changing.

<!-- snippet: guid -->
<a id='snippet-guid'></a>
```cs
var guid = Guid.NewGuid();
var target = new GuidTarget
{
    Guid = guid,
    GuidNullable = guid,
    GuidString = guid.ToString(),
    OtherGuid = Guid.NewGuid()
};

await Verify(target);
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1985-L1998' title='Snippet source file'>snippet source</a> | <a href='#snippet-guid' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->

Results in the following:

<!-- snippet: SerializationTests.ShouldReUseGuid.verified.txt -->
<a id='snippet-SerializationTests.ShouldReUseGuid.verified.txt'></a>
```txt
{
  Guid: Guid_1,
  GuidNullable: Guid_1,
  GuidString: Guid_1,
  OtherGuid: Guid_2
}
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.ShouldReUseGuid.verified.txt#L1-L6' title='Snippet source file'>snippet source</a> | <a href='#snippet-SerializationTests.ShouldReUseGuid.verified.txt' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


## Disable

To disable this behavior use:


### Instance

<!-- snippet: DontScrubGuids -->
<a id='snippet-dontscrubguids'></a>
```cs
var settings = new VerifySettings();
settings.DontScrubGuids();
await Verify(target, settings);
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L717-L723' title='Snippet source file'>snippet source</a> | <a href='#snippet-dontscrubguids' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Fluent

<!-- snippet: DontScrubGuidsFluent -->
<a id='snippet-dontscrubguidsfluent'></a>
```cs
await Verify(target)
    .DontScrubGuids();
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L731-L736' title='Snippet source file'>snippet source</a> | <a href='#snippet-dontscrubguidsfluent' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Globally

<!-- snippet: DontScrubGuidsGlobal -->
<a id='snippet-dontscrubguidsglobal'></a>
```cs
VerifierSettings.DontScrubGuids();
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1552-L1556' title='Snippet source file'>snippet source</a> | <a href='#snippet-dontscrubguidsglobal' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


## Inline Guids

Strings containing inline Guids can also be scrubbed. To enable this behavior, use:


### Instance

<!-- snippet: ScrubInlineGuidsInstance -->
<a id='snippet-scrubinlineguidsinstance'></a>
```cs
[Fact]
public Task ScrubInlineGuidsInstance()
{
    var settings = new VerifySettings();
    settings.ScrubInlineGuids();
    return Verify(
        "content 651ad409-fc30-4b12-a47e-616d3f953e4c content",
        settings);
}
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1601-L1613' title='Snippet source file'>snippet source</a> | <a href='#snippet-scrubinlineguidsinstance' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Fluent

<!-- snippet: ScrubInlineGuidsFluent -->
<a id='snippet-scrubinlineguidsfluent'></a>
```cs
[Fact]
public Task ScrubInlineGuidsFluent() =>
    Verify("content 651ad409-fc30-4b12-a47e-616d3f953e4c content")
        .ScrubInlineGuids();
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1592-L1599' title='Snippet source file'>snippet source</a> | <a href='#snippet-scrubinlineguidsfluent' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Globally

<!-- snippet: ScrubInlineGuidsGlobal -->
<a id='snippet-scrubinlineguidsglobal'></a>
```cs
public static class ModuleInitializer
{
    [ModuleInitializer]
    public static void Init() =>
        VerifierSettings.ScrubInlineGuids();
}
```
<sup><a href='/src/Verify.Tests/Serialization/SerializationTests.cs#L1580-L1589' title='Snippet source file'>snippet source</a> | <a href='#snippet-scrubinlineguidsglobal' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


## Named Guid

Specific Guids can be named. When any of those Guids are found, it will be replaced with the supplied name.


### Instance

<!-- snippet: NamedGuidInstance -->
<a id='snippet-namedguidinstance'></a>
```cs
[Fact]
public Task NamedGuidInstance()
{
    var settings = new VerifySettings();
    settings.AddNamedGuid(new("c8eeaf99-d5c4-4341-8543-4597c3fd40d9"), "instanceNamed");
    return Verify(
        new
        {
            value = new Guid("c8eeaf99-d5c4-4341-8543-4597c3fd40d9")
        },
        settings);
}
```
<sup><a href='/src/Verify.Tests/GuidScrubberTests.cs#L65-L80' title='Snippet source file'>snippet source</a> | <a href='#snippet-namedguidinstance' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Instance

<!-- snippet: NamedGuidFluent -->
<a id='snippet-namedguidfluent'></a>
```cs
[Fact]
public Task NamedGuidFluent() =>
    Verify(
            new
            {
                value = new Guid("c8eeaf99-d5c4-4341-8543-4597c3fd40d9")
            })
        .AddNamedGuid(new("c8eeaf99-d5c4-4341-8543-4597c3fd40d9"), "instanceNamed");
```
<sup><a href='/src/Verify.Tests/GuidScrubberTests.cs#L82-L93' title='Snippet source file'>snippet source</a> | <a href='#snippet-namedguidfluent' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


### Globally

<!-- snippet: NamedGuidGlobal -->
<a id='snippet-namedguidglobal'></a>
```cs
[ModuleInitializer]
public static void Init() =>
    VerifierSettings.AddNamedGuid(new("c8eeaf99-d5c4-4341-8543-4597c3fd40c9"), "guidName");
```
<sup><a href='/src/Verify.Tests/GuidScrubberTests.cs#L4-L10' title='Snippet source file'>snippet source</a> | <a href='#snippet-namedguidglobal' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->
