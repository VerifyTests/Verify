<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /docs/mdsource/parameterised.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

# Parameterised Tests


## Additions to file name

Every parameterised case has a unique file name the arguments are appended to the [file name](/docs/naming.md).

The appending format is `_ArgName=ArgValue` repeated for each arg. 

A test with two parameters `param1` + `param2`, and called twice with the values `value1a`+ `value2a` and `value1b`+ `value2b` would have the following file names:

  * `MyTest.MyMethod_param1=value1a_param2=value2a.verified.txt`
  * `MyTest.MyMethod_param1=value1b_param2=value2b.verified.txt`


## xUnit


### InlineData

<!-- snippet: xunitInlineData -->
<a id='snippet-xunitinlinedata'></a>
```cs
[Theory]
[InlineData("Value1")]
[InlineData("Value2")]
public Task InlineDataUsage(string arg)
{
    var settings = new VerifySettings();
    settings.UseParameters(arg);
    return Verifier.Verify(arg, settings);
}
```
<sup><a href='/src/Verify.Xunit.Tests/Snippets/ParametersSample.cs#L10-L20' title='File snippet `xunitinlinedata` was extracted from'>snippet source</a> | <a href='#snippet-xunitinlinedata' title='Navigate to start of snippet `xunitinlinedata`'>anchor</a></sup>
<!-- endsnippet -->


### MemberData

<!-- snippet: xunitMemberData -->
<a id='snippet-xunitmemberdata'></a>
```cs
[Theory]
[MemberData(nameof(GetData))]
public Task MemberDataUsage(string arg)
{
    var settings = new VerifySettings();
    settings.UseParameters(arg);
    return Verifier.Verify(arg, settings);
}

public static IEnumerable<object[]> GetData()
{
    yield return new object[] {"Value1"};
    yield return new object[] {"Value2"};
}
```
<sup><a href='/src/Verify.Xunit.Tests/Snippets/ParametersSample.cs#L22-L37' title='File snippet `xunitmemberdata` was extracted from'>snippet source</a> | <a href='#snippet-xunitmemberdata' title='Navigate to start of snippet `xunitmemberdata`'>anchor</a></sup>
<!-- endsnippet -->


### Complex MemberData

xUnit only exposes parameter information when the types certain types. For unknown types the parameter information cannot be retrieved from the xUnit context, and instead the parameters need to be explicitly passed in. This is done by calling `UseParameters()` on the base class.

<!-- snippet: xunitComplexMemberData -->
<a id='snippet-xunitcomplexmemberdata'></a>
```cs
[UsesVerify]
public class ComplexParametersSample
{
    static ComplexParametersSample()
    {
        //TODO: this should be in the appdomain startup code
        VerifierSettings.NameForParameter<ComplexData>(_ => _.Value);
    }

    [Theory]
    [MemberData(nameof(GetComplexMemberData))]
    public Task ComplexMemberData(ComplexData arg)
    {
        var settings = new VerifySettings();
        settings.UseParameters(arg);
        return Verifier.Verify(arg, settings);
    }

    public static IEnumerable<object[]> GetComplexMemberData()
    {
        yield return new object[]
        {
            new ComplexData {Value = "Value1"}
        };
        yield return new object[]
        {
            new ComplexData {Value = "Value2"}
        };
    }

    public class ComplexData
    {
        public string Value { get; set; } = null!;
    }
}
```
<sup><a href='/src/Verify.Xunit.Tests/Snippets/ComplexParametersSample.cs#L7-L43' title='File snippet `xunitcomplexmemberdata` was extracted from'>snippet source</a> | <a href='#snippet-xunitcomplexmemberdata' title='Navigate to start of snippet `xunitcomplexmemberdata`'>anchor</a></sup>
<!-- endsnippet -->

`VerifierSettings.NameForParameter` is required since the parameter type has no `ToString()` override that can be used for deriving the name of the `.verified.` file.


## NUnit


### TestCase

<!-- snippet: NUnitTestCase -->
<a id='snippet-nunittestcase'></a>
```cs
[TestCase("Value1")]
[TestCase("Value2")]
public Task TestCaseUsage(string arg)
{
    return Verifier.Verify(arg);
}
```
<sup><a href='/src/Verify.NUnit.Tests/Snippets/ParametersSample.cs#L8-L15' title='File snippet `nunittestcase` was extracted from'>snippet source</a> | <a href='#snippet-nunittestcase' title='Navigate to start of snippet `nunittestcase`'>anchor</a></sup>
<!-- endsnippet -->


## MSTest

MSTest does not expose the parameter values via its extensibility context. So parameter values must passed in via settings.


### DataRow

<!-- snippet: MSTestDataRow -->
<a id='snippet-mstestdatarow'></a>
```cs
[DataTestMethod]
[DataRow("Value1")]
[DataRow("Value2")]
public Task DataRowUsage(string arg)
{
    var settings = new VerifySettings();
    settings.UseParameters(arg);
    return Verify(arg, settings);
}
```
<sup><a href='/src/Verify.MSTest.Tests/Snippets/ParametersSample.cs#L10-L20' title='File snippet `mstestdatarow` was extracted from'>snippet source</a> | <a href='#snippet-mstestdatarow' title='Navigate to start of snippet `mstestdatarow`'>anchor</a></sup>
<!-- endsnippet -->
